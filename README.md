![version](https://img.shields.io/badge/version-1.0-blue)
- [Version history](#version-history)
- [주의사항](#주의사항)
- [준비물](#준비물)
- [Installation 1](#installation-1)
  - [HACS](#hacs)
  - [Manaul](#manaul)
- [Installation 2](#installation-2)
  - [통합구성요소](#통합구성요소)
  - [현재 가능한 제조사(최신버전 기준)](#현재-가능한-제조사최신버전-기준)
  - [지원 예정 제조사](#지원-예정-제조사)
- [Component 기능](#component-기능)
- [설정방법](#설정방법)
- [오류발생 시 debug 정보 출력방법](#오류발생-시-debug-정보-출력방법)

## Version history

| Version | Date       | 내용      |
|---------|------------|---------|
| v1.0    | 2021.03.xx | Release |

<br>

## 주의사항

* 장치의 모든 기능을 이용하려면 제조사의 정식 서비스를 이용하시기 바랍니다.
* 본 Component는 제조사의 정식 서비스를 이용하지 못하는 사용자에 한해<br>개인적인 용도로만 사용하기를 권장합니다.
* 본 Component의 사용책임은 전적으로 사용자에게 있습니다.
* 본 Component의 상업적 이용을 하용하지 않습니다.
* 본 Component의 무단배포를 허용하지 않습니다.
* 본문의 내용을 참조할 시 출처를 명시해야합니다.
* 이 외의 내용에 대해서는 제작자에게 문의바랍니다.

<br>

* 처음 사용 시 장치의 제어를 장치별로 1회 시도하고<br>장치의 제어가 정상적으로 이루어지지 않을 경우<br>사용을 즉시 중단하고 `Damda 문의` 게시판에 글을 남겨주세요.
* 글 작성양식에 맞춰서 작성하고 로그를 같이 첨부해주세요.

<br>

## 준비물

* HomeAssistant `최신버전`(**2021.3.4 이상**)
* 무선 `Elfin EW11 혹은 TCP/IP 소켓통신이 되는 제품` 혹은 유선 `USB to RS485 컨버터`

## Installation 1

### HACS

* 지원하지 않음

### Manaul

* `Damda 자료실`게시판에서 `custom_components` 파일을 다운로드, 내부의 `damda_pad` 폴더 확인
* HomeAssistant 설정폴더인 `/config` 에 `custom_components` 폴더를 생성(이미 있으면 다음 단계)
* `/config/custom_components`에 위에서 다운받은 `damda_pad` 폴더를 넣기
* HomeAssistant 재시작

<br>

## Installation 2

### 통합구성요소

* HA 사이드패널 > 설정 > 통합 구성요소 > 통합 구성요소 추가
* 검색창에서 `Damda Pad` 입력 후 클릭
* 소켓통신의 경우 `IP 주소`, `포트`를 입력 후 확인
* 씨리얼통신의 경우 씨리얼포트 주소 (ex: `/dev/ttyUSB0`) 입력 후 확인

<br>

### 현재 가능한 제조사(최신버전 기준)

|  제조사  | Version | Date       |
|:-----:|:-------:|------------|
|  코콤   |  v1.0   | 2021.03.xx |
|  코맥스  |  v1.0   | 2021.03.xx |
| 현대통신  |  v1.0   | 2021.03.xx |
|  경동원  |  v1.0   | 2021.03.xx |
|  이지빌  |  v1.0   | 2021.03.xx |
| CVnet |  v1.0   | 2021.03.xx |
| 삼성SDS |  v1.0   | 2021.03.xx |
| 삼성전자  |  v1.0   | 2021.03.xx |
|  그렉스  |  v1.0   | 2021.03.xx |
| 에어패스  |  v1.0   | 2021.03.xx |

<br>

### 지원 예정 제조사

* LG전자

<br>

## Component 기능

| 제조사  | 자동인식 | 제어 |
|:----:|:----:|:--:|
| 삼성전자 |  O   | O  |
| 그렉스  |  O   | O  |
| 에어패스 |  O   | O  |

<br>

|  제조사  | 조명 | 콘센트 | 환기 | 보일러 | 에어컨 | 가스차단 | E/V호출 | 일괄소등 | 현관모션 | 일괄스위치 | 원격검침 |
|:-----:|:--:|:---:|:--:|:---:|:---:|:----:|:-----:|:----:|:----:|:-----:|:----:|
|  코콤   | O  |  O  | O  |  O  |  X  |  O   |   O   |  O   |  O   |   X   |  X   |
|  코맥스  | O  |  O  | O  |  O  |  X  |  O   |   O   |  O   |  X   |   X   |  X   |
| 현대통신  | O  |  O  | O  |  O  |  O  |  O   |   O   |  X   |  X   |   O   |  O   |
|  경동원  | O  |  O  | O  |  O  |  X  |  O   |   O   |  X   |  X   |   O   |  O   |
|  이지빌  | O  |  O  | O  |  O  |  X  |  O   |   O   |  X   |  X   |   O   |  O   |
| CVnet | O  |  O  | O  |  O  |  O  |  O   |   O   |  X   |  X   |   O   |  O   |
| 삼성SDS | O  |  O  | O  |  O  |  X  |  O   |   O   |  X   |  X   |   O   |  O   |

* 일괄소등, 방범모드 등은 오작동, 스위치 고장 발생, 패킷꼬임, 동거인 컴플레인 등의 문제가 발생할 수 있기에<br>상태조회만 지원합니다.
* X로 표시된 항목은 베타서비스 중 해당 항목을 보유한 회원이 안계셔서 그렇습니다.<br>불가능하다는 의미가 아닙니다.
* 해당 항목이 월패드에서 조회/제어가 된다면 게시판에 문의 남겨주세요.

<br>

## 설정방법

<br>

* **코콤** > 월패드에서 조회 혹은 조작하기
  + 난방 > 상태조회
  + 조명, 대기전력차단 > On/Off 제어
  + 가스차단 > 조회
  + 엘레베이터 > 호출 시 자동인식
  + 환기장치 > 상태조회 혹은 제어
  + 현관모션감지 > 현관 앞에서 움직임
  + 일괄소등 > On/Off 제어

<br>

* **코맥스** > 월패드에서 조회 혹은 조작하기
  + 난방 > 자동인식(추가로 월패드에서 On/Off 제어가 필요)
  + 조명, 대기전력차단 > 자동인식
  + 가스차단 > 자동인식
  + 엘레베이터 > 현관에서 호출
  + 환기장치 > 자동인식(추가로 월패드에서 On/Off 제어가 필요)
  + 일괄스위치 -> 자동인식(일괄소등, 가스차단, 방범모드 등 `상태조회만` 가능.)

<br>

* **현대통신** > 월패드에서 조회 혹은 조작하기
  + 난방, 에어컨 > 자동인식
  + 조명, 대기전력차단 > 자동인식
  + 가스차단 > 자동인식
  + 엘레베이터 > 호출 시 자동인식
  + 환기장치 > 자동인식
  + 일괄스위치 -> 자동인식(일괄소등, 가스차단, 방범모드 등 `상태조회만` 가능.)
  + 원격검침 -> 상태조회

<br>

* **경동원** > 월패드에서 조회 혹은 조작하기
  + 난방 > 상태조회 혹은 조작
  + 조명, 대기전력차단 > 자동인식
  + 가스차단 > 자동인식
  + 일괄스위치 -> 자동인식(가스차단 `상태조회만` 가능.)
  + 원격검침 -> 자동인식

<br>

* **이지빌** > 월패드에서 조회 혹은 조작하기
  + 난방 > 상태조회 혹은 조작
  + 조명, 대기전력차단 > 자동인식
  + 가스차단 > 자동인식
  + 일괄스위치 -> 자동인식(가스차단 `상태조회만` 가능.)
  + 원격검침 -> 자동인식

<br>

* **CVnet** > 월패드에서 조회 혹은 조작하기
  + 난방, 에어컨 > 자동인식
  + 조명, 대기전력차단 > 자동인식
  + 가스차단 > 자동인식
  + 엘레베이터 > 자동인식
  + 일괄스위치 -> 자동인식(가스밸브상태, 가스누출, 화재감지, 방범모드, 외출모드 `상태조회만` 가능.)

<br>

* **삼성SDS** > 월패드에서 조회 혹은 조작하기
  + 난방 > 자동인식
  + 조명, 대기전력차단 > 자동인식
  + 가스차단 > 자동인식
  + 엘레베이터 > 자동인식
  + 일괄스위치 -> 자동인식(일괄소등, 가스차단, 방범모드 등 `상태조회만` 가능.)
  + 인터폰 -> 자동인식(테스트 필요)

<br>

## 오류발생 시 debug 정보 출력방법

* **`configuration.yaml`** 에서 `logger` 항목을 수정<br>

``` yaml
logger:
  default: error
  logs:
    custom_components.damda_pad: debug
```
